<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>PIXO</title>
    <link rel="shortcut icon" href="static/images/logo_img.svg">
    <link rel="stylesheet" href="static/css/view.css">
</head>
<body>
    <div class="background">
        <img src="static/images/decor.svg" alt="shape" style="position: absolute; max-width: 650px; min-width: 50px; right: 0%; top: 25%; z-index: 1;">
        <img src="static/images/decor.svg" alt="shape" style="position: absolute; max-width: 1000px; min-width: 100px; left: -30%; bottom: 0%; z-index: 1;">
        <div class="header">
            <a href="main.html"><img src="static/images/logo_white.svg" alt="logo" class="logo"></a>
            <div class="right-part">
                <a href="/catalog">Catalog</a>
                <a href="/about_us">About us</a>
                <a href="/support">Support</a>
            </div>
        </div>
        <div class="body_input">
            <h1>Create</h1>
            <input type="text" placeholder="Name" class="inp" id="name">
            <input type="text" placeholder="Surname" class="inp" id="surname">
            <input type="text" placeholder="Patronymic" class="inp" id="patronymic">
            <input type="text" placeholder="Phone number" class="inp" id="phone">
            <input type="text" placeholder="Email address" class="inp" id="email">
            <input type="text" placeholder="Passport series" class="inp" id="passport_series">
            <input type="text" placeholder="Passport number" class="inp" id="passport_number">
            <input type="text" placeholder="Card number" class="inp" id="card">
            <input type="text" placeholder="Username" class="inp" id="username">
            <input type="password" placeholder="Password" class="inp" id="password">
            <button type="submit" style="width: 14%; border-radius: 10px; padding: 7px 15px; width: 330px;" onclick="login()">Submit</button>
            <a href="/sign">Sign in</a>
        </div>
    </div>
    <div class="footer">
        <a href="/"><img src="static/images/white_little.svg" alt="logo" style="max-width: 30px;"></a>
        <div class="footer_text">
            <a href="/catalog">Catalog</a>
            <a href="/about_us">About us</a>
            <a href="/support">Support</a>
        </div>
    </div>
    async function login() {
        const name = document.getElementById("name");
        const surname = document.getElementById("surname");
        const patronymic = document.getElementById("patronymic");
        const phone = document.getElementById("phone");
        const email = document.getElementById("email");
        const passport_series = document.getElementById("passport_series");
        const password = document.getElementById("password");


      const response = await fetch("/register", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({ username: username.value, password: password.value })
      });

      if (response.ok) {
        const data = await response.json();
        localStorage.setItem("token", data.access_token);
        window.location.href = "/sign";
      }
    }
</body>
</html>