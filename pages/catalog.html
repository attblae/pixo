<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>PIXO</title>
    <link rel="shortcut icon" href="static/images/logo_img.svg">
    <link rel="stylesheet" href="../static/css/view.css">
</head>
<body>
    <div class="background">
        <img src="static/images/decor.svg" alt="shape" style="position: absolute; max-width: 650px; min-width: 50px; right: 0%; top: 25%; z-index: 1;">
        <img src="static/images/decor.svg" alt="shape" style="position: absolute; max-width: 1000px; min-width: 100px; left: -30%; bottom: 0%; z-index: 1;">
        <div class="header">
            <a href="/"><img src="static/images/logo_white.svg" alt="logo" class="logo"></a>
            <div style="display: flex; justify-content: center; align-items: center;">
                <input type="text" placeholder="Search" class="inp">
                <button style="padding: 0 0 0 0; width: 50px; height: 50px; border-radius: 10px; margin-left: 5px; font-size: 30px;">üîçÔ∏é</button>
            </div>
            <div class="right-part">
                <a href="/about_us">About us</a>
                <a href="/support">Support</a>
                <div><a href="/sign"><img src="static/images/account_icon.svg" alt="icon" class="icon"></a></div>
            </div>
        </div>
    <div class="body-catalog">
    </div>
    </div>
    <div class="footer">
        <a href="/"><img src="static/images/white_little.svg" alt="logo" style="max-width: 30px;"></a>
        <div class="footer_text">
            <a href="/catalog">Catalog</a>
            <a href="/about_us">About us</a>
            <a href="/support">Support</a>
        </div>
    </div>
    <script>
        'use strict';
        const divItem = document.querySelector('.body-catalog');

        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ —Å —Å–µ—Ä–≤–µ—Ä–∞
        fetch('/files')
            .then(response => response.json())
            .then(files => {
                files.forEach((file, index) => {

                    let innerDiv = document.createElement('div');
                    innerDiv.className = 'catalog-item';
                    innerDiv.style.width = 400 + 'px';
                    innerDiv.style.height = 400 + 'px';
                    console.log(file);
                    // –î–æ–±–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    let img = document.createElement('img');
                    img.src = file.url;
                    img.alt = file.filename;
                    img.style.width = file.width + 'px';
                    img.style.height = file.height + 'px';
                    img.style.objectFit = 'cover';
                    innerDiv.appendChild(img);
                    divItem.appendChild(innerDiv);
                });
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤:', error);
                divItem.innerHTML = '<p>–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ä–∞–±–æ—Ç</p>';
            });
    </script>
    
</body>
</html>